webpackJsonp([7],{576:function(e,t,n){"use strict";function r(){l.set("page",0),u.set(null),i["default"].commit()}var o=n(2)["default"];Object.defineProperty(t,"__esModule",{value:!0}),t.clearTransactionsCache=r;var a=n(26),i=o(a),s=n(9),l=(o(s),i["default"].select(["views","Transactions"])),u=i["default"].select(["views","Transactions","list"])},632:function(e,t,n){"use strict";var r=n(12)["default"],o=n(6)["default"],a=n(11)["default"],i=n(5)["default"],s=n(2)["default"];Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=s(l),c=n(14),d=n(49),f=n(13),p=n(86),h=s(p),m=n(203),v=s(m),b=n(47),g=s(b),y=n(3),w=s(y),x=n(576),k=n(663),E=s(k),M=function(e){function t(){i(this,t);for(var e=arguments.length,n=Array(e),o=0;e>o;o++)n[o]=arguments[o];r(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this.state={}}return o(t,e),a(t,[{key:"formatData",value:function(e){return e=_.map(_.cloneDeep(e),function(e){return e.userCharged=e.userCharged.name?e.userCharged.name.first+" "+e.userCharged.name.last:"N/A",e.session=e.session?e.session.name:"N/A",e.instructor=e.instructor.name?e.instructor.name.first+" "+e.instructor.name.last:"N/A",e.charged=e.stripe.amount?E["default"](e.stripe.amount):"N/A",e.date=w["default"](e.date,"YYYYMMDD").format("MM/DD/YYYY"),e})}},{key:"render",value:function(){var e=this.formatData(_.get(this.props,"transactions.allTransactions"))||[],t=_.get(this.props,"transactions.isLoading")||!1,n=[{title:"Session",prop:"session"},{title:"Date",prop:"date"},{title:"User Charged",prop:"userCharged"},{title:"Instructor",prop:"instructor"},{title:"Amount Charged",prop:"charged"}];return u["default"].createElement("div",{className:"table-wrapper"},u["default"].createElement("div",{className:"row table-header"},u["default"].createElement(f.Col,{xs:12},u["default"].createElement("h1",null,"Transactions"))),u["default"].createElement("div",{className:"row table-filter-container"},u["default"].createElement(h["default"],{onSubmitFilter:this.submitFilter.bind(this),table:"transactions"})),t?u["default"].createElement(g["default"],null):e.length?u["default"].createElement("span",null,u["default"].createElement(d.DataTable,{keys:["_id"],columns:n,initialData:e,initialPageLength:1e4,className:"table-body"}),u["default"].createElement(v["default"],{path:["views","Transactions"],page:_.get(this.props,"transactions.page"),depleted:_.get(this.props,"transactions.hideNextButton")})):u["default"].createElement("div",{className:"no-results"},"No Transactions Yet"))}},{key:"submitFilter",value:function(){x.clearTransactionsCache()}}]),t}(u["default"].Component);t["default"]=c.branch(M,{facets:{transactions:"Transactions"}}),e.exports=t["default"]},663:function(e,t){"use strict";function n(e,t){e=e?new String(e):"",e=e.replace(/\$|\.|\,|\-/g,"");var n="";return(e||0===e)&&("string"!=typeof e&&(e=String(e)),1===e.length?n="$0.0"+e:2===e.length?n="$0."+e:(n="$"+e.substring(0,e.length-2).replace(/\B(?=(\d{3})+(?!\d))/g,","),n=t?n:n+"."+e.substr(-2))),n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]}});